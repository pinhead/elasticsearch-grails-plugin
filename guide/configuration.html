<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>2 Configuration 0.0.3.2</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/configuration.html"><strong>2</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/mapping.html"><strong>3</strong><span>Mapping</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/indexing.html"><strong>4</strong><span>Indexing</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/searching.html"><strong>5</strong><span>Searching</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/admin.html"><strong>6</strong><span>Admin</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/lowLevelAPI.html"><strong>7</strong><span>Low level API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/example.html"><strong>8</strong><span>Example</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>The revived Elasticsearch plugin for Grails.</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/mapping.html"><strong>3</strong><span>Mapping</span> >></a></div>
                


                <div class="project">
                    <h1>2 Configuration - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Noam Y. Tenne, Manuarii Stein, Stephane Maldini, Serge P. Nekoval</p>

                    <p><strong>Version:</strong> 0.0.3.2</p>

                    
                </div>

                

                

<h1 id="configuration">2 Configuration</h1>
The plugin provide a default configuration, but you may add your own settings in your <strong class="bold">Config.groovy</strong> script.<p class="paragraph"/><h4>Client mode</h4>
You can set the plugin in 3 different modes, detailed on the <a href="http://www.elasticsearch.org/guide/en/elasticsearch/client/java-api/current/" target="blank">official ElasticSearch doc</a>.
The mode is defined with the following config key:<p class="paragraph"/><div class="code"><pre>elasticSearch.client.mode = '&#60;mode&#62;'</pre></div><p class="paragraph"/><strong class="bold">Possible values:</strong>
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Value</strong></th><th><strong class="bold">Description</strong></th></tr><tr class="table-odd"><td>node</td><td>The plugin create its own node and join the ElasticSearch cluster as a client node (<code>node.client = true</code>). This setting requires that you have an ElasticSearch instance running and available on your network (use the discovery feature)</td></tr><tr class="table-even"><td>dataNode</td><td>The plugin create its own node and join the ElasticSearch cluster as a node that can hold data. This setting requires that you have an ElasticSearch instance running and available on your network (use the discovery feature)</td></tr><tr class="table-odd"><td>local</td><td>The plugin create its own local (to the JVM) node. Does not require any running ElasticSearch instance. Useful for development or testing.</td></tr><tr class="table-even"><td>transport</td><td>The plugin create a transport client that will connect to a remote ElasticSearch instance without joining the cluster.</td></tr></table><p class="paragraph"/>"Transport" mode needs you to provide the host address and port. You can define one or multiple hosts with the following config key:
<div class="code"><pre>elasticSearch.client.hosts = &#91;
       &#91;host:'192.168.0.3', port:9300&#93;,
       &#91;host:'228.168.0.4', port:9300&#93;
&#93;</pre></div>
If no host is defined, <code>localhost:9300</code> will be used by the transport client.<p class="paragraph"/><h4>Others properties</h4>
<ul class="star">
<li><code>elasticSearch.datastoreImpl</code></li>
</ul><p class="paragraph"/>Only required when enabling the auto-index feature.
This property specifies which GORM datastore implementation should be watched for storage events.
The value should be the name of the datastore bean as it is configured in the Spring context; some possible values:
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>Value</th><th>Description</th></tr><tr class="table-odd"><td>mongoDatastore</td><td>The name of the MongoDB datastore bean.</td></tr><tr class="table-even"><td>hibernateDatastore</td><td>The name of the Hibernate datastore bean.</td></tr></table>
<ul class="star">
<li><code>elasticSearch.bootstrap.config.file</code></li>
</ul><p class="paragraph"/>When using then plugin to construct a local node, the default Elasticsearch configuration is used by default.
If you use a modified Elasticsearch configuration, you can use this property to specify the location of the file (as an application resource).
<ul class="star">
<li><code>elasticSearch.client.transport.sniff</code></li>
</ul><p class="paragraph"/>Only usable in with a transport client.
Allows to sniff the rest of the cluster, and add those into its list of machines to use.
In this case, the ip addresses used will be the ones that the other nodes were started with (the “publish” address)
<ul class="star">
<li><code>elasticSearch.cluster.name</code></li>
</ul><p class="paragraph"/>The name of the cluster for the client to join.
<ul class="star">
<li><code>elasticSearch.date.formats</code></li>
</ul><p class="paragraph"/>List of date formats used by the JSON unmarshaller to parse any date field properly.
Note : future version of the plugin may change how formats are manipulated.
<ul class="star">
<li><code>elasticSearch.defaultExcludedProperties</code></li>
</ul><p class="paragraph"/>List of domain class properties to automatically ignore (will not be indexed) if their name match one of those.
This will only apply to default-mapped domain class, with the static <code>searchable</code> property set to "true", and will
not be considered when using closure mapping.
<ul class="star">
<li><code>elasticSearch.disableAutoIndex</code></li>
</ul><p class="paragraph"/>A boolean determining if the plugin should reflect any database save/update/delete automatically on the indices.
Default to <code>false</code>.
<ul class="star">
<li><code>elasticSearch.bulkIndexOnStartup</code></li>
</ul><p class="paragraph"/>A boolean determining if the application should launch a bulk index operation upon startup. Default to <code>true</code>.
<ul class="star">
<li><code>elasticSearch.index.name</code></li>
</ul><p class="paragraph"/>A string indicating which ElasticSearch index should be used.  If not present, will default to the package name of the domain in question.
<ul class="star">
<li><code>elasticSearch.index.compound_format</code></li>
</ul><p class="paragraph"/>Should the compound file format be used (boolean setting).
Set to <code>false</code> by default (really applicable for file system based index storage).
More details on this setting on the <a href="http://www.elasticsearch.org/guide/reference/index-modules/" target="blank">ElasticSearch Documentation</a>.
<ul class="star">
<li><code>elasticSearch.index.store.type</code></li>
</ul><p class="paragraph"/>Determine how the indices will be stored.
More details on the possible values on the <a href="http://www.elasticsearch.org/guide/reference/index-modules/store.html" target="blank">ElasticSearch Documentation</a>.
<table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>Possible value</th><th>Description</th></tr><tr class="table-odd"><td>memory</td><td>Stores the index in memory. Useful for testing.</td></tr><tr class="table-even"><td>mmapfs</td><td>Stores the shard index on the file system (maps to Lucene MMapDirectory) using mmap.</td></tr><tr class="table-odd"><td>niofs</td><td>Stores the shard index on the file system (maps to Lucene NIOFSDirectory) and allows for multiple threads to read from the same file concurrently.</td></tr><tr class="table-even"><td>simplefs</td><td>Stores using a plain forward implementation of file system storage (maps to Lucene SimpleFsDirectory) using random access file.</td></tr></table>
<ul class="star">
<li><code>elasticSearch.gateway.type</code></li>
</ul><p class="paragraph"/>Determine the gateway type to be used.
More details on the possible values are in the <a href="http://www.elasticsearch.org/guide/reference/modules/gateway/" target="blank">ElasticSearch Documentation</a>.
Using a setting of "none" (possibly in combination with index.store.type set to "memory") can be useful for tests.
<ul class="star">
<li><code>elasticSearch.maxBulkRequest</code></li>
</ul><p class="paragraph"/>Max number of requests to process at once.
Reduce this value if you have memory issue when indexing a big amount of data at once.
If this setting is not specified, 500 will be use by default.
<ul class="star">
<li><code>elasticSearch.path.data</code></li>
</ul><p class="paragraph"/>The location of the data files of each index / shard allocated on the node.
<ul class="star">
<li><code>elasticSearch.path.plugins</code></li>
</ul><p class="paragraph"/>The location of plugin files such as native scripts. Each plugin will be contained in a subdirectory.
<ul class="star">
<li><code>elasticSearch.searchableProperty.name</code></li>
</ul><p class="paragraph"/>The name of the ElasticSearch mapping configuration property that annotates domain classes. The default is 'searchable'.<p class="paragraph"/><h4>Default configuration script</h4>
Below is the default configuration loaded by the plugin (any of your settings in the Config.groovy script overwrite those).<p class="paragraph"/><div class="code"><pre>elasticSearch &#123;
  /&#42;&#42;
   &#42; Date formats used by the unmarshaller of the JSON responses
   &#42;/
  date.formats = &#91;<span class="java&#45;quote">"yyyy&#45;MM&#45;dd'T'HH:mm:ss'Z'"</span>&#93;<p class="paragraph"/>  /&#42;&#42;
   &#42; Hosts <span class="java&#45;keyword">for</span> remote ElasticSearch instances.
   &#42; Will only be used with the <span class="java&#45;quote">"transport"</span> client mode.
   &#42; If the client mode is set to <span class="java&#45;quote">"transport"</span> and no hosts are defined, &#91;<span class="java&#45;quote">"localhost"</span>, 9300&#93; will be used by <span class="java&#45;keyword">default</span>.
   &#42;/
  client.hosts = &#91;
          &#91;host:'localhost', port:9300&#93;
  &#93;<p class="paragraph"/>  /&#42;&#42;
   &#42; Default mapping property exclusions
   &#42;
   &#42; No properties matching the given names will be mapped by <span class="java&#45;keyword">default</span>
   &#42; ie, when using <span class="java&#45;quote">"searchable = <span class="java&#45;keyword">true</span>"</span>
   &#42;
   &#42; This does not apply <span class="java&#45;keyword">for</span> classes using mapping by closure
   &#42;/
  defaultExcludedProperties = &#91;<span class="java&#45;quote">"password"</span>&#93;<p class="paragraph"/>  /&#42;&#42;
   &#42; Determines <span class="java&#45;keyword">if</span> the plugin should reflect any database save/update/delete automatically
   &#42; on the ES instance. Default to <span class="java&#45;keyword">false</span>.
   &#42;/
  disableAutoIndex = <span class="java&#45;keyword">false</span><p class="paragraph"/>  /&#42;&#42;
   &#42; Should the database be indexed at startup.
   &#42;
   &#42; The value may be a <span class="java&#45;object">boolean</span> <span class="java&#45;keyword">true</span>|<span class="java&#45;keyword">false</span>.
   &#42; Indexing is always asynchronous (compared to Searchable plugin) and executed after BootStrap.groovy.
   &#42;/
  bulkIndexOnStartup = <span class="java&#45;keyword">true</span><p class="paragraph"/>  /&#42;&#42;
   &#42;  Max number of requests to process at once. Reduce <span class="java&#45;keyword">this</span> value <span class="java&#45;keyword">if</span> you have memory issue when indexing a big amount of data
   &#42;  at once. If <span class="java&#45;keyword">this</span> setting is not specified, 500 will be use by <span class="java&#45;keyword">default</span>.
   &#42;/
  maxBulkRequest = 500<p class="paragraph"/>
  /&#42;&#42;
   &#42; The name of the ElasticSearch mapping configuration property that annotates domain classes. The <span class="java&#45;keyword">default</span> is 'searchable'.
   &#42;/
  searchableProperty.name = 'searchable'
&#125;<p class="paragraph"/>environments &#123;
  development &#123;
    /&#42;&#42;
     &#42; Possible values : <span class="java&#45;quote">"local"</span>, <span class="java&#45;quote">"node"</span>, <span class="java&#45;quote">"dataNode"</span>, <span class="java&#45;quote">"transport"</span>
     &#42; If set to <span class="java&#45;keyword">null</span>, <span class="java&#45;quote">"node"</span> mode is used by <span class="java&#45;keyword">default</span>.
     &#42;/
    elasticSearch.client.mode = 'local'
  &#125;
  test &#123;
      elasticSearch &#123;
          client.mode = 'local'
          index.store.type = 'memory' // store local node in memory and not on disk
      &#125;
  &#125;
  production &#123;
    elasticSearch.client.mode = 'node'
  &#125;
&#125;</pre></div>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/introduction.html">&lt;&lt; <strong>1</strong><span>Introduction</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/mapping.html"><strong>3</strong><span>Mapping</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Dynamic Domain Methods</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Dynamic%20Domain%20Methods/countHits.html">countHits</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Dynamic%20Domain%20Methods/index.html">index</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Dynamic%20Domain%20Methods/search.html">search</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Dynamic%20Domain%20Methods/unindex.html">unindex</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">ElasticSearchAdminService</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/ElasticSearchAdminService/deleteIndex.html">deleteIndex</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/ElasticSearchAdminService/refresh.html">refresh</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">ElasticSearchService</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/ElasticSearchService/countHits.html">countHits</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/ElasticSearchService/index.html">index</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/ElasticSearchService/search.html">search</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/ElasticSearchService/unindex.html">unindex</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
